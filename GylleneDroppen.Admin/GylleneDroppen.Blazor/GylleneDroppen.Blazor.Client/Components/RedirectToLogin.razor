@inject NavigationManager Navigation
@inject ILogger<RedirectToLogin> Logger

<div class="redirect-message">
    <p>Du måste logga in för att se denna sida.</p>
    <button @onclick="NavigateToLoginPage">Logga in</button>
</div>

@code {
    [Parameter] public string? ReturnUrl { get; set; }

    private void NavigateToLoginPage()
    {
        var returnUrlEncoded = string.IsNullOrEmpty(ReturnUrl) ? "" : $"?returnUrl={Uri.EscapeDataString(ReturnUrl)}";
        var targetUrl = $"/logga-in{returnUrlEncoded}";
        Logger.LogInformation("Redirecting unauthenticated user to: {TargetUrl}", targetUrl);
        Navigation.NavigateTo(targetUrl);
    }
}